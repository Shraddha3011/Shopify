<link rel="stylesheet" href="{{ 'header.css' | asset_url }}" media="print" onload="this.media='all'">
<div class="header-nav">
    <div class="header-left">
        <h1>MediMart</h1>
    </div>
    <div class="header-right">
        {% for link in linklists['main-menu'].links %}
            <li>{{ link.title | link_to:link.url }}</li>
        {% endfor %}
        
        <!-- Cart Icon -->
        <input type="checkbox" id="cart-toggle" class="cart-toggle">
        <label for="cart-toggle" class="cart-icon">
            <img src="{{ 'cart3.png' | asset_url }}" alt="Cart">
        </label>
        
        <!-- Cart Slider -->
        <div class="cart-slider">
            <div class="slider-container">
                <ul class="slider">
                    {% for item in cart.items %}
                        <li>
                            <img src="{{ item.product.featured_image.src | img_url: 'medium' }}" alt="{{ item.product.title }}">
                            <p>{{ item.product.title }}</p>
                            <p>{{ item.quantity }} x {{ item.price | money }}</p>
                            <button class="remove-from-cart" data-id="{{ item.id }}">Remove</button> <!-- Add remove button -->
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
/* Styles for the cart icon */
.cart-icon {
    cursor: pointer; /* Change cursor to indicate clickable element */
}

/* Hide the checkbox input */
.cart-toggle {
    display: none;
}

/* Styles for the cart slider */
.cart-slider {
    position: absolute;
    top: 0;
    right: -600px; /* Position off-screen initially */
    width: 300px; /* Set the width of the slider */
    height:169%; /* Set the height of the slider */
    background-color: white;
    border-left: 1px solid #ccc; /* Add a border for the slider */
    padding: 20px;
    z-index: 999;
    transition: right 0.3s ease; /* Smooth transition for animation */
    margin-top: 4rem;
}

/* Use the :checked pseudo-class and adjacent sibling selector to show/hide the cart slider */
.cart-toggle:checked + .cart-icon + .cart-slider {
    right: 0; /* Slide the cart slider into view when checkbox is checked */
}

/* Styles for the slider container and items */
.slider-container {
    overflow: hidden;
}

.slider {
    list-style-type: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 10px; /* Add spacing between slider items */
}

.slider li img {
    max-width: 100px;
    height: auto;
}

.slider li p {
    margin: 0;
    font-size: 14px;
}

/* Style for the remove button */
.remove-from-cart {
    background-color: #ff6666;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 4px;
}

.remove-from-cart:hover {
    background-color: #ff4d4d;
}
</style>
