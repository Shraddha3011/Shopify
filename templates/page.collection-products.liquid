{% comment %}
    Get the collection handle from the URL
{% endcomment %}
{% assign collection_handle = request.path_segments.last %}

{% comment %}
    Get the collection based on the handle
{% endcomment %}
{% assign collection = collections[collection_handle] %}

{% if collection %}
    <h2>{{ collection.title }}</h2>
    {% comment %}
        Get products for the current collection
    {% endcomment %}
    {% assign products = collection.products %}
    <ul>
        {% for product in products %}
            <li>
                <h3>{{ product.title }}</h3>
                <p>Price: {{ product.price | money }}</p>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>Collection not found.</p>
{% endif %}
